webpackJsonp([1],{"07ID":function(e,t,r){"use strict";var n=r("bOdI"),a=r.n(n),i=r("woOf"),o=r.n(i),u=r("HGsU");t.a={components:{RenderFormItem:u.a},props:{data:Object,itemValue:{},value:Object,disabled:Boolean},render:function(e){var t=this;return e("div",{},this.data.$items.map(function(r,n){var i=t.itemValue||{};return e("render-form-item",{props:{key:n,prop:t.data.$id+"."+r.$id,data:r,value:t.value,itemValue:i[r.$id],disabled:t.disabled},on:{updateValue:function(e){var r=e.id,n=e.value,u=o()({},i,a()({},r,n));t.$emit("updateValue",{id:t.data.$id,value:u})}}})}))}}},HGsU:function(e,t,r){"use strict";function n(e){if(!e)throw new Error("item data must be an Object.");if(!e.$id)throw new Error("item $id is unvalidated.");if(!e.$type)throw new Error("item $type is unvalidated.")}var a=r("woOf"),i=r.n(a),o=r("OKuX"),u=r("qhD9"),s=r("L/hj");t.a={mixins:[o.a,u.a],props:{data:Object,prop:{type:String,default:function(){return this.data.$id}},itemValue:{},value:Object,disabled:Boolean},computed:{_show:function(){return this.getEnableWhenSatatus()}},render:function(e){return n(this.data),e("el-form-item",{props:{prop:this.prop,label:this.data.label,rules:this._show&&Array.isArray(this.data.rules)?this.data.rules:[]},attrs:this.data.$attrs,style:this._show?"":"display: none;"},[this.renderFormItemContent(e,this.data,this.itemValue)])},methods:{renderFormItemContent:function(e,t,n){var a=this,o=r.i(s.a)(t.$el)?t.$el:{},u="checkbox-button"===t.$type?"checkbox-group":t.$type,l=i()({},o,{value:n});return this.disabled&&(l.disabled=this.disabled),e("el-"+u,{attrs:l,props:l,on:{input:function(e){a.$emit("updateValue",{id:t.$id,value:e})}}},[function(){var e=a[r.i(s.b)(t.$type)+"_opt"];if("function"==typeof e&&Array.isArray(t.$options))return t.$options.map(e)}()])}}}},"K/GD":function(e,t,r){"use strict";var n=r("lVK7"),a=r("RKAd"),i=r.n(a);t.a={name:"app",components:{ElFormRenderer:n.a,VueJsonPretty:i.a},methods:{addFormGroup:function(){if(-1!==this.content.findIndex(function(e){return e.isGroup}))return void this.$message.warning("自定义group表单项已存在！");this.content.unshift({isGroup:!0,$type:"group",$id:"aaaaa",$items:[{$type:"input",$id:"group1",$default:"aaaa",label:"group1",rules:[{required:!0,message:"sss",trigger:"change"}]},{$type:"select",$id:"group2",label:"group2",$options:[{label:"区域一",value:"shanghai"},{label:"区域二",value:"beijing"}]}]}),this.$message.success("操作成功！")},removeFormGroup:function(){var e=this.content.findIndex(function(e){return e.isGroup});-1!==e?(this.content.splice(e,1),this.$message.success("操作成功！")):this.$message.error("请先添加自定义group表单项！")},submitForm:function(e){this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;alert("submit!")})},resetForm:function(e){this.$refs[e].resetFields()}},created:function(){window.q=this},data:function(){return{content:[{$type:"input",$id:"name",label:"活动名称",$default:"aaaa2",$el:{size:"mini",placeholder:"test placeholder"},rules:[{required:!0,message:"请输入活动名称",trigger:"blur"},{min:3,max:5,message:"长度在 3 到 5 个字符",trigger:"blur"}]},{$type:"select",$id:"region",label:"活动区域",$options:[{label:"区域一",value:"shanghai"},{label:"区域二",value:"beijing"}],rules:[{required:!0,message:"请选择活动区域",trigger:"change"}]},{$type:"date-picker",$id:"date",label:"活动时间",$el:{type:"datetime",placeholder:"请选择"},rules:[{type:"date",required:!0,message:"请选择日期时间",trigger:"change"}]},{$type:"switch",$id:"delivery",label:"即时配送"},{$type:"input",$id:"enableWhenDelivery",$el:{placeholder:"如果你选择即时配送就看到我啦"},label:"隐藏项demo",$enableWhen:{delivery:!0}},{$type:"checkbox-group",$id:"type",label:"活动性质",$default:[],$options:[{label:"美食/餐厅线上活动"},{label:"地推活动"},{label:"线下主题活动"},{label:"单纯品牌曝光"}],rules:[{type:"array",required:!0,message:"请至少选择一个活动性质",trigger:"change"}]},{$type:"radio-group",$id:"resource",label:"特殊资源",$options:[{label:"线上品牌商赞助"},{label:"线下场地免费"}],rules:[{required:!0,message:"请选择活动资源",trigger:"change"}]},{$type:"input",$id:"desc",label:"活动形式",$el:{type:"textarea"},rules:[{required:!0,message:"请填写活动形式",trigger:"blur"}]}]}}}},"L/hj":function(e,t,r){"use strict";r.d(t,"b",function(){return n}),r.d(t,"a",function(){return a});var n=function(e){return-1!==e.indexOf("-")?e.replace(/-([a-zA-Z])/g,function(e,t){return t.toUpperCase()}):e},a=function(e){return"[object Object]"===Object.prototype.toString.call(e)}},OKuX:function(e,t,r){"use strict";function n(e,t,r){return e(t,{props:r})}function a(e,t,r){return e(t,{props:o()({},r,{key:r.value||r.label,label:r.value||r.label})},r.label)}var i=r("woOf"),o=r.n(i);t.a={methods:{select_opt:function(e){return n(this.$createElement,"el-option",e)},radioGroup_opt:function(e){return a(this.$createElement,"el-radio",e)},radioButton_opt:function(e){return a(this.$createElement,"el-radio-button",e)},checkboxGroup_opt:function(e){return a(this.$createElement,"el-checkbox",e)},checkboxButton_opt:function(e){return a(this.$createElement,"el-checkbox-button",e)}}}},SrUm:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r("7+uW"),a=r("zL8q"),i=r.n(a),o=r("tvR6"),u=(r.n(o),r("pwV8"));n.default.use(i.a),new n.default({el:"#app",template:"<App/>",components:{App:u.a}})},lVK7:function(e,t,r){"use strict";var n=r("bOdI"),a=r.n(n),i=r("fZjL"),o=r.n(i),u=r("woOf"),s=r.n(u),l=r("HGsU"),c=r("07ID"),d=r("zL8q");r.n(d);t.a={render:function(e){var t=this;return this.content.forEach(this.initItemValue),e("el-form",{props:s()({},this._props,{model:this.value}),ref:"elForm"},this.content.map(function(r,n){var a={props:{key:n,data:r,value:t.value,itemValue:t.value[r.$id],disabled:t.disabled},on:{updateValue:t.updateValue}};return"group"===r.$type?e("render-form-group",a):e("render-form-item",a)}).concat(this.$slots.default))},components:{RenderFormItem:l.a,RenderFormGroup:c.a},mounted:function(){var e=this;this.$nextTick(function(){o()(d.Form.methods).forEach(function(t){e[t]=e.$refs.elForm[t]})})},props:s()({},d.Form.props,{content:{type:Array,required:!0},disabled:{type:Boolean,default:!1}}),data:function(){return{value:{}}},methods:{initItemValue:function(e){if(e.$id&&void 0===this.value[e.$id]){var t=void 0;"group"===e.$type?t=e.$items.reduce(function(e,t){return t.$default&&t.$id&&(e[t.$id]=t.$default),e},{}):void 0!==e.$default&&(t=e.$default),t&&this.updateValue({id:e.$id,value:t})}},updateValue:function(e){var t=e.id,r=e.value;this.value=s()({},this.value,a()({},t,r))},getFormValue:function(){return this.value}}}},lw6C:function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"demo"},[r("div",{staticClass:"demo-code"},[r("h1",[e._v("el-form-renderer example")]),e._v(" "),r("h3",[e._v(".vue文件")]),e._v(" "),r("pre",[e._v("<template>\n  <el-form-renderer :content=\"content\"></el-form-renderer>\n</template>\n\n<script>\nimport ElFormRenderer from 'path/el-form-renderer'\n\nexport default {\n  components: {\n    ElFormRenderer\n  },\n  data () {\n    return {\n      content: [ObjectArray] // 见下方JSON \n    }\n  }\n}\n<\/script>\n      ")]),e._v(" "),e._m(0),e._v(" "),r("div",{staticClass:"demo-config"},[r("el-button",{attrs:{size:"mini"},on:{click:e.addFormGroup}},[e._v("添加自定义group类型项")]),e._v(" "),r("el-button",{attrs:{size:"mini"},on:{click:e.removeFormGroup}},[e._v("移除自定义group类型项")])],1),e._v(" "),r("vue-json-pretty",{attrs:{data:e.content}})],1),e._v(" "),r("div",{staticClass:"demo-form"},[e._m(1),e._v(" "),e._m(2),e._v(" "),r("el-form-renderer",{ref:"ruleForm",attrs:{"label-width":"100px",content:e.content}},[r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitForm("ruleForm")}}},[e._v("立即创建")]),e._v(" "),r("el-button",{on:{click:function(t){e.resetForm("ruleForm")}}},[e._v("重置")])],1)],1)],1),e._v(" "),e._m(3)])},a=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("h3",[e._v("content属性的具体内容："),r("span",{staticClass:"tips"},[e._v("(power by "),r("a",{attrs:{href:"https://github.com/leezng/vue-json-pretty",target:"_blank"}},[e._v("vue-json-pretty")]),e._v(")")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("h3",[e._v("高度还原"),r("a",{attrs:{href:"http://element.eleme.io/#/zh-CN/component/form",target:"_blank"}},[e._v("element-ui")]),e._v("官方例子：")])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("p",[e._v("在本例子中，额外增加了一个表单原子项，作为 "),r("code",[e._v("$enableWhen")]),e._v(" 属性的展示效果，可尝试点击 “即时配送” 进行查看。")])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("a",{staticClass:"gitHub-ribbons",attrs:{href:"https://github.com/leezng/el-form-renderer",target:"_blank"}},[r("img",{staticStyle:{position:"absolute",top:"0",right:"0",border:"0"},attrs:{src:"https://camo.githubusercontent.com/652c5b9acfaddf3a9c326fa6bde407b87f7be0f4/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f6f72616e67655f6666373630302e706e67",alt:"Fork me on GitHub","data-canonical-src":"https://s3.amazonaws.com/github/ribbons/forkme_right_orange_ff7600.png"}})])}],i={render:n,staticRenderFns:a};t.a=i},pwV8:function(e,t,r){"use strict";function n(e){r("yjh2")}var a=r("K/GD"),i=r("lw6C"),o=r("VU/8"),u=n,s=o(a.a,i.a,!1,u,null,null);t.a=s.exports},qhD9:function(e,t,r){"use strict";function n(e,t){return e&&e[t]}t.a={methods:{getEnableWhenSatatus:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.data&&this.data.$enableWhen,r=function(t){if("string"==typeof t)return void 0!==n(e.value,t);for(var r in t)if(t.hasOwnProperty(r)){var a=n(e.value,r);if(void 0===a||""===a)return!1;if(!t[r]&&""===a)return!1;if(void 0!==t[r]&&a!==t[r])return!1}return!0};return!t||(Array.isArray(t)?t.some(function(e){return r(e)}):r(t))}}}},tvR6:function(e,t){},yjh2:function(e,t){}},["SrUm"]);